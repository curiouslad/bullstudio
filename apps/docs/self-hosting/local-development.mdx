---
title: "Local Development"
description: "Set up bullstudio locally for development"
---

## Architecture

bullstudio consists of four core services:

| Service      | Description                          | Default Port |
|-------------|--------------------------------------|-------------|
| **Web**     | Next.js application (UI + API)       | 3000        |
| **Workers** | Background job processing (alerts, etc.) | -       |
| **Postgres**| Primary database                     | 5432        |
| **Redis**   | Queue backend & caching              | 6379        |

<Frame caption="bullstudio architecture overview">
  <img src="/images/architecture-overview.png" alt="bullstudio architecture" />
</Frame>

## Prerequisites

- Node.js >= 20
- pnpm 10.4+
- Docker & Docker Compose
- A [Resend](https://resend.com) account (for transactional emails)

## 1. Clone & Install

```bash
git clone https://github.com/your-org/bullstudio.git
cd bullstudio
pnpm install
```

## 2. Start Infrastructure

Start Postgres and Redis via Docker:

```bash
docker compose -f docker/dev/compose.yml up -d
```

This starts:
- **Postgres 16** on `localhost:5432` (user: `bullstudio_user`, password: `bullstudio_password`, db: `bullstudio_db`)
- **Redis 7** on `localhost:6379`

## 3. Environment Variables

Copy the example env file and fill in the required values:

```bash
cp .env.example .env
```

| Variable | Required | Description |
|----------|----------|-------------|
| `DATABASE_URL` | Yes | Postgres connection string |
| `DIRECT_URL` | Yes | Direct Postgres connection (same as DATABASE_URL locally) |
| `AUTH_SECRET` | Yes | Random secret for NextAuth (`openssl rand -base64 32`) |
| `ENCRYPTION_KEY` | Yes | 32-byte hex key for encrypting Redis credentials (`openssl rand -hex 32`) |
| `RESEND_API_KEY` | Yes | API key from [Resend](https://resend.com/api-keys) |
| `AUTH_GOOGLE_ID` | No | Google OAuth client ID |
| `AUTH_GOOGLE_SECRET` | No | Google OAuth client secret |
| `AUTH_GITHUB_ID` | No | GitHub OAuth client ID |
| `AUTH_GITHUB_SECRET` | No | GitHub OAuth client secret |
| `POLAR_ACCESS_TOKEN` | No | Polar billing token (optional for dev) |
| `POLAR_WEBHOOK_SECRET` | No | Polar webhook secret (optional for dev) |

**Minimal `.env` for local development:**

```bash
DATABASE_URL="postgresql://bullstudio_user:bullstudio_password@localhost:5432/bullstudio_db"
DIRECT_URL="postgresql://bullstudio_user:bullstudio_password@localhost:5432/bullstudio_db"
AUTH_SECRET="your-random-secret-here"
ENCRYPTION_KEY="your-64-char-hex-key-here"
RESEND_API_KEY="re_your_resend_key"
```

## 4. Prisma Setup

Generate the Prisma client and run migrations:

```bash
# Generate the Prisma client
pnpm prisma:generate

# Run database migrations
pnpm prisma:migrate-dev
```

<Info>
  `prisma:generate` must run before the dev server starts. The turbo pipeline handles this automatically when running `pnpm dev`.
</Info>

## 5. Start Development

```bash
pnpm dev
```

This starts the web app at [http://localhost:3000](http://localhost:3000) with hot-reload enabled.

To run workers separately:

```bash
cd apps/workers
pnpm dev
```

## Resend Setup

bullstudio uses [Resend](https://resend.com) for transactional emails (invitations, alerts, etc.).

1. Create a free account at [resend.com](https://resend.com)
2. Add and verify your domain (or use the sandbox domain for development)
3. Generate an API key and add it to your `.env` as `RESEND_API_KEY`

<Warning>
  Without a valid Resend API key, email features (team invitations, alert notifications) will not work.
</Warning>
